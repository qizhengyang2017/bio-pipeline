```bash
cat $PRE_GEXP | head -n1 | tr '\t' '\n' | tail -n+5 | awk '{ print $1,$1 }' > $PRE.sample.ID # 从第五行开始取值

P0=`echo $PARAM | awk '{ p=$3 - 0.5e6; if(p<0) p=0; print p; }'` 
```













## 

单行命令

https://www.jianshu.com/p/27db80c69db7







```shell
cat QTL_gene_pos.txt|while read -a gene;do let "start=${gene[1]}-2000";let "end=${gene[2]}+2000"; grep ${gene[3]} ~/ga/annovar/filter2_Q600_SNPs_joint_216.variant_function|awk '$4>="'${start}'" && $4<="'${end}'"{print "'${gene[4]}'","'${gene[3]}'",$0}' OFS='\t';done >> QTL_gene_pos_variantAnnot_updown.txt
```





~/ga/hotspot/hot_scan_newCis/hot_chr05

```bash
# 根据hotspot的位置，找出它调控的基因
cat chr5_hotspot_pos.bed|while read pos1;do pos=($pos1); cat 8D_all.bed|awk '$1=="'${pos[0]}'" && $2>="'${pos[1]}'" && $3<="'${pos[2]}'"'|awk '$4!~"Garb_Contig"{print $0}' > chr5_${pos[2]}_hotspot_gene.txt;done
```



```bash
for i in `ls`;do sed -i '1 s/Feature ID/Gene ID/;1 s/Feature Name/Gene_name/' $i;done
cat result.csv|grep -E "碱基不均衡|5'文库|3'文库|10xATAC-seq文库" |grep "2020" |awk -F , '{print $15"\t"$20"\t"$13"\t"$5"\t"$3}' > m
awk -F '\t' 'NR==FNR {a[$1]=$5;next} {$4=a[$4]} 1' OFS='\t' t m > mapfile

```

```bash
# 使用变量
for i in `ls  -d Cluster_[0-9]*`;do grep -i -E 'signal transduction|glucose related pathway|cell death|oxidative phosphorylation|lipid metablism|amino acid metablism' $i/${i}_KEGGenrich.txt | awk -v n=$i 'BEGIN{FS=OFS="\t"}{print n,$1,$2,$3,$4,$5,$6}' > ${i}_KEGGenrich.txt; done
# -d, –directory 将目录象文件一样显示，而不是显示其下的文件。
```

