tail的使用

```bash
cat $PRE_GEXP | head -n1 | tr '\t' '\n' | tail -n+5 | awk '{ print $1,$1 }' > $PRE.sample.ID # 从第五行开始取值

P0=`echo $PARAM | awk '{ p=$3 - 0.5e6; if(p<0) p=0; print p; }'` 
```





大概是根据基因位置找其上下游2k范围内的变异。路径？

read let 使用

```shell
cat QTL_gene_pos.txt|while read -a gene;do let "start=${gene[1]}-2000";let "end=${gene[2]}+2000"; grep ${gene[3]} ~/ga/annovar/filter2_Q600_SNPs_joint_216.variant_function|awk '$4>="'${start}'" && $4<="'${end}'"{print "'${gene[4]}'","'${gene[3]}'",$0}' OFS='\t';done >> QTL_gene_pos_variantAnnot_updown.txt
```





~/ga/hotspot/hot_scan_newCis/hot_chr05

pos=($pos1)

括号转数组

```bash
# 根据hotspot的位置，找出它调控的基因
cat chr5_hotspot_pos.bed|while read pos1;do pos=($pos1); cat 8D_all.bed|awk '$1=="'${pos[0]}'" && $2>="'${pos[1]}'" && $3<="'${pos[2]}'"'|awk '$4!~"Garb_Contig"{print $0}' > chr5_${pos[2]}_hotspot_gene.txt;done
```







单行命令

https://www.jianshu.com/p/27db80c69db7
